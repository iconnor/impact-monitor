<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Impact Monitor</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style src="style.css"></style>
    <script src="chart.js"></script>
    <script src="monitor.js"></script>
    <script>

        // On document loaded, call updateChart function
        window.onload = () => {
            initChart();
        }

    </script>

</head>

<body class="bg-gray-100 p-8">
    <div class="container mx-auto">
        <h1 class="text-4xl mb-8">MPU-6050 Monitor</h1>
        <div class="flex items-center">
            <button id="start" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-4"
                onclick="javascript:startMonitor()">Start
                Monitoring</button>

            <button id="reset" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-4"
                onclick="javascript:resetChartData()">Restart
                Monitoring</button>
                <div class="circle-container p-4">
            <div id="circle" class="bg-white-500 rounded-full h-12 w-12 flex items-center justify-center text-white text-xl">
                <span id="highScore">0</span>
            </div>
        </div>
        </div>
            

        <br />
        <h2 class="text-2xl m-2">Chart</h2>
        <div id="chart" class="flex min-h-0 h-[60vh] w-full mx-auto p-2 border"></div>



        <h2 class="text-2xl m-2">Data</h2>
        <button id="saveCsv" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-4"
            onclick="javascript:saveToCsv()">Save
            to CSV</button>
        <table id="sensorData" class="table-auto mt-8 w-full">
            <thead>
                <tr>
                    <th class="px-4 py-2">Date</th>
                    <th class="px-4 py-2">X</th>
                    <th class="px-4 py-2">Y</th>
                    <th class="px-4 py-2">Z</th>
                    <th class="px-4 py-2">X°/s</th>
                    <th class="px-4 py-2">Y°/s</th>
                    <th class="px-4 py-2">Z°/s</th>
                </tr>
            </thead>
            <tbody id="sensorDataBody" class="text-center">
            </tbody>
        </table>
        <pre>
            <code id="log"></code>
        </pre>
    </div>
</body>

</html>